<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arabic-English Matching Game</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=[KEY]]></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Arabic-English Matching Game</h1>
            <div class="stats-container">
                <div class="score">Correct: <span id="score">0</span></div>
                <div class="mistakes">Mistakes: <span id="mistakes">0</span></div>
                <button class="done-button" id="done-button">I'm Done</button>
            </div>
        </div>
        
        <div id="loading-screen">
            <div class="loading">
                <h2>Loading Arabic-English Data...</h2>
                <p>Please wait while we load</p>
            </div>
        </div>

        <div id="error-screen" style="display: none;">
            <div class="error-message">
                <h2>Error Loading Data</h2>
                <p id="error-message">Unable to load ara.txt. Please make sure the file is in the same directory as this HTML file.</p>
            </div>
        </div>
        
        <div id="setup-screen" style="display: none;">
            <h2>Select Difficulty</h2>
            <div class="difficulty-selector">
                <label for="difficulty">Select Difficulty Level (1-10):</label>
                <input type="range" id="difficulty" class="difficulty-slider" min="1" max="10" value="5">
                <div class="difficulty-display">Current: <span id="difficulty-value">5</span> - <span id="difficulty-text">Intermediate</span></div>
                <button class="start-button" id="start-game">Start Game</button>
                <p id="data-stats" class="difficulty-display"></p>
            </div>
        </div>
        
        <div id="game-screen" style="display: none;">
            <div class="question" id="arabic-text"></div>
            <div class="feedback" id="feedback"></div>
            <div class="options" id="options-container"></div>
            <button class="next-button" id="next-question">Next Question</button>
        </div>
    </div>

    <!-- Startup Modal -->
    <div id="startModal" class="modal game-mode-modal">
        <div class="modal-content">
            <h2>Select Game Mode</h2>
            <p>Choose the type of matching game you'd like to play:</p>
            <div class="buttons-container">
                <button id="sentenceGameButton" class="start-button sentence-button">Sentence Matching Game (Dialect Agnostic)</button>
                <button id="wordGameButton" class="start-button word-button">Word Matching Game (Classical Arabic)</button>
            </div>
        </div>
    </div>
    
    <!-- Session Summary Modal -->
    <div id="summary-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-modal">&times;</span>
            <h2>Your Session Summary</h2>
            <div class="session-stats">
                <p><strong>Difficulty Level:</strong> <span id="summary-difficulty"></span></p>
                <p><strong>Total Correct Answers:</strong> <span id="summary-correct"></span></p>
                <p><strong>Total Mistakes:</strong> <span id="summary-mistakes"></span></p>
                <p><strong>Success Rate:</strong> <span id="summary-rate"></span>%</p>
            </div>
            <h3>Answer Log:</h3>
            <div id="answer-log" class="log-container">
                <!-- Log entries will be inserted here dynamically -->
            </div>
            <div>
                <h3>Copy Results:</h3>
                <textarea id="copy-text" class="copy-area" readonly></textarea>
            </div>
            <div class="buttons-container">
                <button id="download-log" class="download-button">Download Results</button>
                <button id="new-game" class="start-button">New Game</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <footer>
        TTS: <a href="https://responsivevoice.org" target="_blank">responsivevoice.org</a><br>
        Data: <a href="https://alqalaminstitute.org" target="_blank">alqalaminstitute.org</a>, 
        <a href="https://tatoeba.org" target="_blank">tatoeba.org</a>
    </footer>
</body>
</html>
